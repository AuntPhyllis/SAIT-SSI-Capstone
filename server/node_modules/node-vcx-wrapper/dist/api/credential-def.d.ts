import { ISerializedData } from './common';
import { VCXBase } from './vcx-base';
import { PaymentManager } from './vcx-payment-txn';
/**
 * @interface
 * @description
 * SourceId: String for SDK User's reference.
 * name: name of credentialdef.
 * schemaNo: Schema Number wanted to create credentialdef off of
 * revocation:
 */
export interface ICredentialDefCreateData {
    sourceId: string;
    name: string;
    schemaId: string;
    revocationDetails: IRevocationDetails;
    paymentHandle: number;
}
/**
 * @interface
 * @description
 * sourceId: String for SDK User's reference.
 * credDefId: id of credentialdef.
 * revocationConfig: Information given during the initial create of the cred def if revocation was enabled
 */
export interface ICredentialDefCreateDataWithId {
    sourceId: string;
    credDefId: string;
    revocationConfig?: IRevocationConfig;
}
export interface ICredentialDefPrepareForEndorserData {
    sourceId: string;
    name: string;
    schemaId: string;
    revocationDetails: IRevocationDetails;
    endorser: string;
}
export interface ICredentialDefData {
    source_id: string;
    handle: number;
    name: string;
    credential_def: ICredentialDefDataObj;
}
export interface ICredentialDefDataObj {
    ref: number;
    origin: string;
    signature_type: string;
    data: any;
}
export interface ICredentialDefParams {
    schemaId?: string;
    name?: string;
    credDefId?: string;
    tailsFile?: string;
}
export interface IRevocationDetails {
    maxCreds?: number;
    supportRevocation?: boolean;
    tailsFile?: string;
}
export interface IRevocationConfig {
    tailsFile?: string;
    revRegId?: string;
    revRegDef?: string;
    revRegEntry?: string;
}
export declare enum CredentialDefState {
    Built = 0,
    Published = 1
}
export declare class CredentialDefPaymentManager extends PaymentManager {
    protected _getPaymentTxnFn: (commandId: number, handle: number, cb: any) => number;
}
/**
 * @class Class representing a credential Definition
 */
export declare class CredentialDef extends VCXBase<ICredentialDefData> {
    /**
     * Creates a new CredentialDef object that is written to the ledger
     *
     * Example:
     * ```
     * data = {
     *   name: 'testCredentialDefName',
     *   paymentHandle: 0,
     *   revocation: false,
     *   schemaId: 'testCredentialDefSchemaId',
     *   sourceId: 'testCredentialDefSourceId'
     * }
     * credentialDef = await CredentialDef.create(data)
     * ```
     */
    static create({ name, paymentHandle, revocationDetails, schemaId, sourceId }: ICredentialDefCreateData): Promise<CredentialDef>;
    /**
     * Creates a new CredentialDef object that is written to the ledger
     *
     * Example:
     * ```
     * data = {
     *   credDefId: 'testCredentialDefId',
     *   sourceId: 'testCredentialDefSourceId'
     * }
     * credentialDef = await CredentialDef.create_with_id(data)
     * ```
     */
    static createWithId({ sourceId, credDefId, revocationConfig }: ICredentialDefCreateDataWithId): Promise<CredentialDef>;
    /**
     * Builds a generic Schema object that will be published by Endorser later
     *
     * Example:
     * ```
     * data = {
     *   name: 'testCredentialDefName',
     *   endorser: 'V4SGRU86Z58d6TV7PBUe6f',
     *   revocation: false,
     *   schemaId: 'testCredentialDefSchemaId',
     *   sourceId: 'testCredentialDefSourceId'
     * }
     * credentialDef = await CredentialDef.prepareForEndorser(data)
     * ```
     */
    static prepareForEndorser({ name, endorser, revocationDetails, schemaId, sourceId }: ICredentialDefPrepareForEndorserData): Promise<CredentialDef>;
    /**
     * Builds a credentialDef object with defined attributes.
     * Attributes are provided by a previous call to the serialize function.
     * Example:
     * ```
     * data = {
     *   name: 'testCredentialDefName',
     *   paymentHandle: 0,
     *   revocation: false,
     *   schemaId: 'testCredentialDefSchemaId',
     *   sourceId: 'testCredentialDefSourceId'
     * }
     * credentialDef = await CredentialDef.create(data)
     * data1 = await credentialDef.serialize()
     * credentialDef2 = await CredentialDef.deserialzie(data1)
     * ```
     */
    static deserialize(credentialDef: ISerializedData<ICredentialDefData>): Promise<CredentialDef>;
    paymentManager: CredentialDefPaymentManager;
    protected _releaseFn: (handle: number) => number;
    protected _serializeFn: (commandId: number, handle: number, cb: any) => number;
    protected _deserializeFn: (commandId: number, data: string, cb: any) => number;
    private _name;
    private _schemaId;
    private _credDefId;
    private _tailsFile;
    private _credDefTransaction;
    private _revocRegDefTransaction;
    private _revocRegEntryTransaction;
    constructor(sourceId: string, { name, schemaId, credDefId, tailsFile }: ICredentialDefParams);
    /**
     * Retrieves the credential definition id associated with the created cred def.
     * Example:
     * ```
     * data = {
     *   name: 'testCredentialDefName',
     *   paymentHandle: 0,
     *   revocation: false,
     *   schemaId: 'testCredentialDefSchemaId',
     *   sourceId: 'testCredentialDefSourceId'
     * }
     * credentialDef = await CredentialDef.create(data)
     * id = await credentialDef.getCredDefId()
     * ```
     */
    getCredDefId(): Promise<string>;
    /**
     *
     * Checks if credential definition is published on the Ledger and updates the the state
     *
     * Example:
     * ```
     * await credentialDef.updateState()
     * ```
     * @returns {Promise<void>}
     */
    updateState(): Promise<void>;
    /**
     * Get the current state of the credential definition object
     *
     * Example:
     * ```
     * state = await credentialdef.getState()
     * ```
     * @returns {Promise<CredentialDefState>}
     */
    getState(): Promise<CredentialDefState>;
    get name(): string | undefined;
    get schemaId(): string | undefined;
    get credDefId(): string | undefined;
    get tailsFile(): string | undefined;
    protected _setHandle(handle: number): void;
    get credentialDefTransaction(): string | null;
    get revocRegDefTransaction(): string | null;
    get revocRegEntryTransaction(): string | null;
}
